@page "/todo"
@using BlazorState
@using BlazorRedux.Client.Features.Todo

@inherits BlazorStateComponent

<h1>Todos</h1>

Pulling values from state object:
<ul>
    @foreach (var item in items)
    {
        <li>
        @item<span class="oi oi-delete" aria-hidden="true" @onclick="() => DeleteTodo(item)"></span>
        </li>
    }
</ul>

<input value="@stringValue" @oninput="(EventArgs) => {SetValue(EventArgs.Value.ToString());}" />
<button class="btn btn-primary" @onclick="AddTodo">Add Todo</button>

@code {

    TodoState State => GetState<TodoState>();

    private List<String> items => State.TheList;

    string stringValue = "";

    private void SetValue(string value)
    {
        stringValue = value;
    }

    private void AddTodo()
    {
        Mediator.Send(new TodosState.AddTodoAction { payload = stringValue });
        SetValue("");
    }

    private void DeleteTodo(string value)
    {
        Mediator.Send(new TodosState.DeleteTodoAction { payload = value });
    }
}